<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <style>
     * {
      background-color: #428a8e;
      color: #f2f1d6;
      box-sizing: border-box;
      font-family: 'Times New Roman', Times, serif;
    }
    body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background-color: #428a8e;
    color: #f2f1d6;
    font-family: 'Times New Roman', Times, serif;
  }
  .header {
      height: 65px;
      display: flex;
      padding-left: 25px;
      justify-content: space-between;
      align-items: center;
      border-bottom: 3px solid #000;
    }

    .action {
      width: 35%;
      display: flex;
      padding-right: 20px;
      align-items: center;
      justify-content: space-between;
    }

    .icon_submit {
      outline: none;
      border: 0;
    }

    .header input {
      position: relative;
      left: 29px;
      top: -2px;
    }

    .icon_submit img {
      width: 37px;
      position: relative;
      left: -35px;
      top: -5px;
      cursor: pointer;
    }

    input[type="text"]::placeholder {
      padding-left: 15px;
      color: #f2f1d6;
    }
    .cart-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #f2f1d6;
    }

    .cart-item img {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 8px;
    }

    .cart-item .product-info {
      flex: 2;
      margin-left: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .cart-item .product-actions {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 10px;
    }

    .quantity-control {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .quantity-control button {
      width: 30px;
      height: 30px;
      font-size: 16px;
      border: none;
      border-radius: 50%;
      background-color: #f2f1d6;
      color: #428a8e;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .quantity-control button:hover {
      transform: scale(1.1);
    }

    /* #cart-total {
      margin-top: 20px;
      text-align: right;
      font-size: 1.2rem;
      border-top: 2px solid #f2f1d6;
      padding-top: 10px;
    } */

    .footer {
      color: #f2f1d6;
      border-top: 3px solid black;
      padding: 20px 10px;
      clear: both;
    }

    .footer a {
      color: #f2f1d6;
      text-decoration: none;
    }


  </style>
</head>

<body>
    <div class="header">
        <div class="h-img"><a href="../HTML/index.html"><img src="../IMG/logo.png" alt="" style="height: 60px;"></a>
        </div>
        <div class="action">
          <form action="">
            <input type="text" placeholder="Search" required
              style="width: 300px; height: 40px; border: 2px solid #f2f1d6; border-radius: 25px; color: #f2f1d6;" />
            <button class="icon_submit" type="submit">
              <img src="../IMG/icon_search.png" alt="" />
            </button>
          </form>
          <a href="../HTML/shopping.html">
            <img src="../IMG/icon_shopping.png" alt="Giỏ hàng" style="height: 50px;" />
          </a>      <img src="../IMG/icon_đn.png" alt="" style="height: 50px;">
        </div>
      </div>
<div class="container my-4">
    <h1>Giỏ hàng của bạn</h1>
    <div class="Product" >
        <div id="cart-items"></div>
    </div>
</div>

<div id="cart-total" class="mt-4" style="border-top: 3px solid #000; padding: 20px 200px 20px; text-align: right !important; "></div>

    <div class="footer text-center">
        <div style="width: 90%; font-size: 19px; margin: auto;">
          <p>Đừng bỏ lỡ hàng ngàn sản phẩm và chương trình khuyến mãi hấp dẫn từ Website của chúng tôi. Hãy đăng ký nhận
            bản tin để cập nhật thông tin mới nhất, các xu hướng thời trang túi xách nữ và nhận các ưu đãi đặc biệt dành
            riêng cho thành viên của chúng tôi.</p>
        </div>
  
        <div class="container" style="width: 100vw;">
          <br>
          <div class="row">
            <div class="col-md-4">
              <h6 style="font-weight: 600; font-size: 20px;">HỖ TRỢ KHÁCH HÀNG</h6>
              <a href="#">Hướng dẫn mua hàng trực tuyến</a><br>
              <a href="#">Hướng dẫn thanh toán</a><br>
              <a href="#">Gửi yêu cầu khiếu nại</a>
            </div>
            <div class="col-md-4">
              <h6 style="font-weight: 600; font-size: 20px;">CHÍNH SÁCH</h6>
              <a href="#">Chính sách quy định chung</a><br>
              <a href="#">Chính sách vận chuyển</a><br>
              <a href="#">Chính sách bảo hành</a><br>
              <a href="#">Chính sách cho doanh nghiệp</a>
            </div>
            <div class="col-md-4">
              <h6 style="font-weight: 600; font-size: 20px;">THÔNG TIN KHUYẾN MÃI</h6>
              <a href="#">Thông tin khuyến mãi</a><br>
              <a href="#">Sản phẩm bán chạy</a><br>
              <a href="#">Sản phẩm mới</a>
            </div>
          </div>
        </div>
      </div>
  

      <script>
        // Lấy giỏ hàng từ localStorage
        function getCart() {
          const cart = localStorage.getItem("cart");
          return cart ? JSON.parse(cart) : [];
        }
    
        // Lưu giỏ hàng vào localStorage
        function saveCart(cart) {
          localStorage.setItem("cart", JSON.stringify(cart));
        }
    
        // Hiển thị giỏ hàng
        function displayCart() {
          const cartItems = document.getElementById("cart-items");
          const cartTotal = document.getElementById("cart-total");
          const cart = getCart();
    
          if (cart.length === 0) {
            cartItems.innerHTML = "<p>Giỏ hàng của bạn đang trống!</p>";
            cartTotal.innerHTML = "";
            return;
          }
    
          let total = 0;
          cartItems.innerHTML = cart.map(item => {
            total += item.price * item.quantity;
            return `
              <div class="cart-item">
                <img src="${item.image}" alt="${item.title}">
                <div>
                  <p>${item.title}</p>
                  <p>${item.price.toLocaleString()}₫</p>
                  <div class="quantity-control">
                    <button onclick="updateQuantity(${item.id}, -1)">-</button>
                    <span>${item.quantity}</span>
                    <button onclick="updateQuantity(${item.id}, 1)">+</button>
                  </div>
                </div>
                <button class="btn btn-sm btn-danger" onclick="removeFromCart(${item.id})">Xóa</button>
              </div>
            `;
          }).join("");
    
          cartTotal.innerHTML = `<h4>Tổng cộng: ${total.toLocaleString()}₫</h4>`;
        }
    
        // Cập nhật số lượng sản phẩm
        function updateQuantity(productId, delta) {
          const cart = getCart();
          const product = cart.find(item => item.id === productId);
    
          if (product) {
            product.quantity += delta;
    
            if (product.quantity <= 0) {
              // Xóa sản phẩm nếu số lượng <= 0
              removeFromCart(productId);
            } else {
              saveCart(cart);
              displayCart();
            }
          }
        }
    
        // Xóa sản phẩm khỏi giỏ hàng
        function removeFromCart(productId) {
          let cart = getCart();
          cart = cart.filter(item => item.id !== productId);
          saveCart(cart);
          displayCart();
        }
    
        displayCart();
      </script></body>

</html>
